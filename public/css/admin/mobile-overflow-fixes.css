/* MOBILE OVERFLOW FIXES
   Applied globally to prevent horizontal scrolling on mobile devices
   Target: iPhone SE 2020 (375px) and all devices < 768px width
*/

@media (max-width: 768px) {
    /* === FOUNDATION === */
    html,
    body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        box-sizing: border-box;
    }

    * {
        box-sizing: border-box;
    }

    /* === LAYOUT CONTAINERS === */
    .admin-wrapper,
    .admin-main,
    .admin-content,
    main,
    section,
    article,
    div[class*="container"],
    div[class*="wrapper"],
    div[class*="content"] {
        width: 100%;
        max-width: 100%;
        overflow-x: hidden;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* === GRIDS AND LAYOUTS === */
    [class*="grid"],
    [class*="flex"],
    .stats-grid,
    .trend-cards,
    .chart-container,
    .performers-grid,
    .quick-access-cards,
    .crawl-summary-cards,
    .rotation-summary,
    .media-grid,
    .form-row,
    .btn-group,
    .header-actions,
    .action-buttons,
    .bulk-buttons,
    .lang-cards,
    .size-options,
    .resource-links,
    .filter-tabs,
    .two-column-layout,
    .two-column {
        width: 100% !important;
        max-width: 100% !important;
        grid-template-columns: 1fr !important;
        flex-direction: column !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* === CARDS AND BOXES === */
    .card,
    .stat-card,
    .action-card,
    .trend-card,
    .quick-card,
    .media-card,
    .performer-card,
    .lang-card,
    .rotation-card,
    .effectiveness-card,
    .status-card,
    .summary-card,
    .info-section,
    .config-section,
    .dashboard-section,
    [class*="card"] {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* === TABLES === */
    table,
    .data-table,
    .admin-table,
    .table-responsive,
    [class*="table"] {
        width: 100%;
        max-width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        margin-left: 0 !important;
        margin-right: 0 !important;
        box-sizing: border-box;
    }

    /* Ensure table cells don't overflow */
    table td,
    table th,
    .data-table td,
    .data-table th {
        overflow-wrap: break-word;
        word-break: break-word;
        hyphens: auto;
    }

    /* === FORMS === */
    form,
    .form-section,
    .admin-form,
    .modal form,
    .form-group,
    input,
    textarea,
    select,
    .form-control {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* === MODALS === */
    .modal,
    .modal-overlay,
    .modal-content,
    .modal-header,
    .modal-body,
    .modal-footer {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* === BUTTONS AND CONTROLS === */
    .btn,
    button,
    [class*="btn"],
    .btn-group .btn,
    .header-actions .btn,
    .action-buttons .btn {
        max-width: 100%;
        box-sizing: border-box;
    }

    /* === LISTS === */
    ul,
    ol,
    li,
    [class*="list"],
    .links-list,
    .page-checklist {
        width: 100%;
        max-width: 100%;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding-left: 16px;
        padding-right: 0;
        box-sizing: border-box;
    }

    /* === HEADERS AND TITLES === */
    .page-header,
    .header-actions,
    header,
    [class*="header"] {
        width: 100%;
        max-width: 100%;
        margin-left: 0 !important;
        margin-right: 0 !important;
        box-sizing: border-box;
    }

    /* === CODE BLOCKS === */
    code,
    pre,
    [class*="code"],
    [class*="preview"],
    .config-preview {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }

    /* === SPECIFIC PROBLEM AREAS === */
    
    /* Sidebar and navigation */
    .sidebar {
        position: fixed;
        left: 0;
        width: 280px;
        height: 100vh;
        overflow-y: auto;
        overflow-x: hidden;
        z-index: 1000;
    }

    .admin-main {
        margin-left: 280px;
        width: calc(100% - 280px);
        overflow-x: hidden;
    }

    /* Empty states */
    .empty-state {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        padding-left: 16px;
        padding-right: 16px;
    }

    /* Recommendation panels */
    .recommendations-panel,
    .recommendation {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* Timeline */
    .timeline,
    .timeline-item {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }

    /* Status grid and cards */
    .status-grid,
    .submit-options {
        grid-template-columns: 1fr !important;
        width: 100% !important;
    }

    /* Links and actions */
    .bulk-actions,
    .bulk-actions.active {
        width: 100%;
        max-width: 100%;
        flex-direction: column;
        box-sizing: border-box;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* URL boxes and info boxes */
    .url-box,
    .info-box,
    .info-section,
    .info-banner {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
}

/* Extra small devices (iPhone SE 375px) */
@media (max-width: 480px) {
    .admin-main {
        margin-left: 260px;
        width: calc(100% - 260px);
        padding: 10px 8px;
    }

    .sidebar {
        width: 260px;
    }
}

/* Absolute smallest devices */
@media (max-width: 375px) {
    html, body {
        width: 100vw;
        overflow-x: hidden;
    }

    .admin-wrapper {
        width: 100vw;
        display: flex;
        overflow-x: hidden;
    }

    .admin-main {
        margin-left: 240px;
        width: calc(100vw - 240px);
        padding: 8px 6px;
        overflow-x: hidden;
    }

    .sidebar {
        width: 240px;
    }

    /* Ensure absolutely nothing overflows on tiny screens */
    * {
        max-width: 100vw;
    }
}
